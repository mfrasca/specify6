<?xml version="1.0" encoding="UTF-8"?>
<viewset name="Preferences" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">

	<views>
	    <view
	    		name="EMail"
			class="java.util.prefs.Preferences"
			resourcelabels="true">
		    	<desc><![CDATA[EMail Preference Form.]]></desc>
			<altviews>
				<altview name="EMail" viewdef="EMail" label="EMail" mode="edit" validated="true"/>
			</altviews>
		</view>

	    <view
			name="Formatting"
	         class="java.util.prefs.Preferences"
	         resourcelabels="true">
	    		<desc><![CDATA[Formatting Preference Form.]]></desc>
			<altviews>
				<altview name="Formatting" viewdef="Formatting" label="Formatting" mode="edit" validated="true"/>
			</altviews>
		</view>

	</views>

	<viewdefs>
	    <viewdef
	         type="form"
	         name="EMail"
	         class="java.util.prefs.Preferences"
             gettable="edu.ku.brc.af.prefs.PrefsGettableImpl"
             settable="edu.ku.brc.af.prefs.PrefsSettableImpl">

		    	<desc><![CDATA[EMail Preference Form.]]></desc>

		    	<enableRules>
		    		<rule id="localmailbox"><![CDATA[accounttype.getSelectedIndex() == 1]]></rule>

		    	    <rule id="accountname"><![CDATA[accounttype.getSelectedIndex() == 1 || accounttype.getSelectedIndex() == 2]]></rule>
		    	    <rule id="servername"><![CDATA[accounttype.getSelectedIndex() == 1 || accounttype.getSelectedIndex() == 2]]></rule>
		    	    <rule id="smtp"><![CDATA[accounttype.getSelectedIndex() == 1 || accounttype.getSelectedIndex() == 2]]></rule>
		    	    <rule id="username"><![CDATA[accounttype.getSelectedIndex() == 1 || accounttype.getSelectedIndex() == 2]]></rule>
		    	    <rule id="password"><![CDATA[accounttype.getSelectedIndex() == 1 || accounttype.getSelectedIndex() == 2]]></rule>
		    	    <rule id="email"><![CDATA[accounttype.getSelectedIndex() == 1 || accounttype.getSelectedIndex() == 2]]></rule>

		    	</enableRules>

			<columnDef>r:p, 2dlu, l:p, 5dlu, r:p, 2dlu, l:p</columnDef>
			<rowDef dup="14" cell="p" sep="4dlu"/>

			<rows>
				<row>
				    <cell type="separator" label="emailacctsettings"/>
				</row>
				<row>
					<cell type="label" name="accounttypeLabel" labelfor="accounttype" label="accounttype"/>
				    <cell type="field" uitype="combobox" id="accounttype" name="settings.email.accounttype" initialize="data=Not in use, POP3, IMAP"/>
				</row>
				<row>
					<cell type="label" name="accountnameLabel" labelfor="accountname" label="accountname"/>
				    <cell type="field" uitype="text" cols="20" id="accountname" name="settings.email.accountname" isrequired="true"/>
				</row>
				<row>
					<cell type="label" name="servernameLabel" labelfor="servername" label="servername"/>
				    <cell type="field" uitype="text" cols="20" id="servername" name="settings.email.servername" isrequired="true"/>

					<cell type="label" name="smtpLabel" labelfor="smtp" label="smtp"/>
				    <cell type="field" uitype="text" cols="20" id="smtp" name="settings.email.smtp" isrequired="true"/>
				</row>
				<row>
					<cell type="label" name="localmailboxLabel" labelfor="localmailbox" label="localmailbox"/>
				    <cell type="field" id="localmailbox" name="settings.email.localmailbox" cols="20" colspan="5" uitype="browse" isrequired="true" validation="obj.isNotEmpty()" valtype="Changed"/>
				</row>
				<row>
				    <cell type="separator" label="userinfo"/>
				</row>
				<row>
					<cell type="label" name="usernameLabel" labelfor="username" label="username"/>
				    <cell type="field" id="username" name="settings.email.username" cols="20" isrequired="true"/>

					<cell type="label" name="passwordLabel" labelfor="password" label="password"/>
				    <cell type="field" id="password" name="settings.email.password" cols="20" uitype="password" ispassword="true" isrequired="true" isencrypted="true"/>
				</row>
				<row>
					<cell type="label" name="emailLabel" labelfor="email" label="email" />
				    <cell type="field" id="email" name="settings.email.email" cols="20" isrequired="true"/>
				</row>
				<row>
					<cell type="label" labelfor="" label="" />
				    <cell type="command" id="testconnection" name="settings.email.testconnection" label="testconnection" commandtype="EmailPref" action="test"/>

				</row>
			</rows>
		</viewdef>

	    <viewdef
	    	 type="form"
             name="Formatting"
             class="java.util.prefs.Preferences"
             gettable="edu.ku.brc.af.prefs.PrefsGettableImpl"
             settable="edu.ku.brc.af.prefs.PrefsSettableImpl">

	    		<desc><![CDATA[Formatting Preference Form.]]></desc>

			<columnDef>r:p, 2dlu, l:p, 5dlu, r:p, 2dlu, l:p</columnDef>
			<rowDef dup="14" cell="p" sep="4dlu"/>

			<rows>
				<row>
					<cell type="separator" label="formatting"/>
				</row>
				<row>
					<cell type="label" name="scrdateformatLabel" labelfor="scrdateformat" label="scrdateformat"/>
				    <cell type="field" uitype="text" cols="10" id="scrdateformat" name="ui.formatting.scrdateformat" isrequired="true"/>
				</row>
				<row>
					<cell type="label" labelfor="valtextcolor" label="valtextcolor"/>
				    <cell type="field" uitype="colorchooser" id="valtextcolor" name="ui.formatting.valtextcolor"/>
				</row>
			    <row>
			        <cell type="label" labelfor="requiredfieldcolor" label="requiredfieldcolor"/>
			        <cell type="field" uitype="colorchooser" id="requiredfieldcolor" name="ui.formatting.requiredfieldcolor"/>
			    </row>
			    <row>
			        <cell type="label" labelfor="viewfieldcolor" label="viewfieldcolor"/>
			        <cell type="field" uitype="colorchooser" id="viewfieldcolor" name="ui.formatting.viewfieldcolor"/>
			    </row>
			</rows>
		</viewdef>
	</viewdefs>

</viewset>
