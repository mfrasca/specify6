<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN" "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping>
    
    <class name="edu.ku.brc.specify.datamodel.AppResource" table="appresource" lazy="true">
        <meta attribute="class-description" inherit="false"/>
        <meta attribute="implements">AppResourceIFace</meta>
        
        <id name="appResourceId" type="java.lang.Long" column="AppResourceID">            
            <meta attribute="scope-field">protected</meta>
            <generator class="native"/>
        </id>
     
        <timestamp name="timestampModified" column="TimestampModified">
            <meta attribute="scope-field">protected</meta>
            <meta attribute="field-description">Versioning Timestamp</meta>
        </timestamp>
 
        <property name="level" type="short" column="Level" not-null="true">
            <meta attribute="scope-field">protected</meta>  
        </property>
        
        <property name="name" type="java.lang.String" column="Name" length="64" not-null="true">
            <meta attribute="scope-field">protected</meta>                
        </property>
        
        <property name="description" type="java.lang.String" column="Description" length="255">
            <meta attribute="scope-field">protected</meta>                
        </property>
        
        <property name="metaData" type="java.lang.String" column="MetaData" length="255" not-null="false">
            <meta attribute="scope-field">protected</meta>                
        </property>
        
        <!-- This is blob because not all databases support CLOB -->
        <!--
        <property name="data" type="blob" column="data" length="1073741823" not-null="true">
            <meta attribute="scope-field">protected</meta>
        </property>
        -->
          
        <property name="timestampCreated" type="java.sql.Timestamp" column="TimestampCreated" length="23" not-null="true" update="false">
            <meta attribute="scope-field">protected</meta>                
        </property>
        
        <property name="lastEditedBy" type="java.lang.String" column="LastEditedBy" length="50">
            <meta attribute="scope-field">protected</meta>            
        </property>
     
	    <property name="ownerPermissionLevel" type="java.lang.Integer" column="OwnerPermissionLevel">
	      <meta attribute="scope-field">protected</meta>
	    </property>  
	         
	    <property name="groupPermissionLevel" type="java.lang.Integer" column="GroupPermissionLevel">
	      <meta attribute="scope-field">protected</meta>
	    </property>  
	
	    <property name="allPermissionLevel" type="java.lang.Integer" column="AllPermissionLevel">
	      <meta attribute="scope-field">protected</meta>
	    </property>  
        
        <!-- Associations -->
        
        <!-- bi-directional many-to-many association to AppResourceDefault -->
        <set name="appResourceDefaults" table="appresdef_appres" lazy="true" cascade="save-update, lock, merge">
            <key>
                <column name="AppResourceID"/>
            </key>
            <many-to-many class="edu.ku.brc.specify.datamodel.AppResourceDefault" column="AppResourceDefaultID"/>
        </set>
            
        <!-- bi-directional one-to-many association to AppResourceData -->
        <!-- Although this is specified as a one-to-many it is really just a one-to-one but we do it
        way so there is lazy loading of the XML Blob in the AppResourceData object 
        -->
        <set name="appResourceDatas" lazy="true" inverse="true" cascade="all-delete-orphan">
            <meta attribute="field-description"></meta>
            <key>
                <column name="AppResourceID"/>
            </key>
            <one-to-many class="edu.ku.brc.specify.datamodel.AppResourceData"/>
        </set>
    
      <!-- many-to-one association to UserGroup -->
    <many-to-one name="group" class="edu.ku.brc.specify.datamodel.UserGroup" outer-join="true">
    <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description"></meta>
        <column name="UserGroupID"/>
    </many-to-one>  
            <!-- many-to-one association to SpecifyUser -->
        <many-to-one name="specifyUser" class="edu.ku.brc.specify.datamodel.SpecifyUser" outer-join="true">
            <meta attribute="scope-field">protected</meta>
            <meta attribute="field-description"></meta>
            <column name="SpecifyUserID" not-null="true"/>
        </many-to-one>         
    </class>
</hibernate-mapping>
