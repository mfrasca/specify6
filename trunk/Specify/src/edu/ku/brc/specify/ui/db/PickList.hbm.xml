<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC
    "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
    "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd" >

<hibernate-mapping package="edu.ku.brc.specify.ui.db" >

  <import class="PickListItem"/>
  
  <class name="PickList" table="picklist">
    <meta attribute="class-description">
      Represents a PickList
      @author Rod Spears (with help from Hibernate)
    </meta>

      <id name="pickListId" type="int" column="PickListID">
      <meta attribute="scope-set">public</meta>
      <meta attribute="scope-field">protected</meta>
      <generator class="native"/>
    </id>
    
    <property
        name="name"
        type="java.lang.String"
        column="name"
        not-null="true"
        unique="true"
        length="64"
    >
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description">
           @hibernate.property
            column="name"
            length="64"
            not-null="true"
        </meta>    
    </property>
    
    
    <property
        name="readOnly"
        type="boolean"
        column="readOnly"
        not-null="true"
    >
        <meta attribute="scope-field">protected</meta>
    </property>
    
    <property
        name="sizeLimit"
        type="java.lang.Integer"
        column="sizeLimit"
        length="10"
    >
        <meta attribute="scope-field">protected</meta>
    </property>

	<!-- We can't change the creation time, so map it with update="false". -->
	<property   name="created"
				column="created"
				type="java.util.Date"
				update="false"
				not-null="true">
        <meta attribute="scope-field">protected</meta>
    </property>    

    <!-- Associations -->

    <!-- bi-directional one-to-many association to PickListItem -->
    <set
        name="items" table="picklist_items" lazy="false">
        <meta attribute="scope-field">protected</meta>
        <key column="pickListItemID"/>
    	<composite-element class="PickListItem">
    		<property name="title" not-null="true" unique="false" length="64"/>
    		<property name="value" not-null="false" unique="false" length="64"/>
    		<property name="createdDate" not-null="true"/>
        </composite-element>
    </set>
	

  </class>

</hibernate-mapping>
