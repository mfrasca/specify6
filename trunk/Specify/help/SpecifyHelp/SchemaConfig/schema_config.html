<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link href="../../main.css" rel="stylesheet" type="text/css" media="screen"></link>
<title>Schema Configuration</title>
</head>

<body bgcolor="#ffffff">
<table width="100%" border="0" background="../../images/topbar.png">
  <tr>
    <td>&nbsp;</td>
  </tr>
</table>
<h2>Edit the Schema Configuration</h2>
<p>Schema refers to the many tables and fields that systematize the many dimensions and relationships of the data within biological collections. The Schema Configuration module is a highly functional, though somewhat complex, set of tools created to configure the Specify schema for individual discipline needs. Changes made in the Schema Configuration tool will affect all collections within a discipline and can be used to individualize Specify for each discipline.</p>
<p>The tools in the Schema Configuration provide the following functions:</p>
<ul>
  <li>Hide unused tables or fields.</li>
  <li>Change the caption, or display names, of tables and fields in Specify. These are displayed on forms and in searches. The names in the schema are not editable, but the  captions, can be edited</li>
  <li>Edit descriptions (usage notes ) for tables and fields.</li>
  <li>Create a format for a table. This allows one or more fields to represent a table on a form or in a search result. For example, an Agent is usually represented by the Last Name and First Name fields.</li>
  <li>Create or edit an aggregatation for a table. A related table with a one-to-many relationship to the primary table combines records into one record typically separated by a semi colon.</li>
  <li>Designate a field as required. This is reflected on forms and in the WorkBench uploader.</li>
  <li>Format a Field as a Pick List, Weblink or Numbering Format.</li>
</ul>
<p>Close all tabs before opening Schema Configuration. Open Schema Configuration by clicking <em>System &gt; Schema Configuration</em>. </p>
<ul>
  <li>In the resulting dialog choose English for the Available Locales. The current release of Specify has not been translated and does not offer other languages. Because the Specify project is Open Source any interested third parties that are interested in translating Specify could easily do so by downloading the source code. If you are interested in translating Specify please contact the Specify Project at <a href="mailto:specify@ku.edu">specify@ku.edu</a>. </li><br />
  <li>Next,  click the <em>Edit a Schema</em> button in the Tasks section of the dialog. Future releases of Specify will allow schemas to be both imported and exported. This can be a very powerful tool for collecting communities to share information. A Collection Manager that has both the Schema Configuration and the forms changed to manage his discipline could share both with the entire community, allowing all Collection Managers to have the exact same set-up for their collection data.</li>
</ul>
<p>&nbsp;</p>
<p>The Schema Configuration tool opens with the schema listed on the left side and the tools on the right. The top left pane titled <em>Tables</em> lists all the tables in the Specify schema. The bottom left pane titled <em>Fields</em> lists the fields for each table. Click a table to display the available fields. Many of the fields listed are related fields, which belong to other tables. This will be discusses in more detail later. </p>
<p>The available tools for the Tables are listed on the top right and the tools for Fields are listed on the bottom right</p>
<h4><u>Table and Field Tools</u></h4>
<p>The following tools within the Schema Configuration are the same for both tables and fields.</p>
<h4>Change a Caption for a Table or Field</h4>
<p>The first tool  is  <em>Label</em> and is available for both Tables and Fields. Simply select a table or field from the appropriate list and type the new name into the <em>Label</em> field. The new caption will appear on forms, in Query Creators and the Simple Search Configuration tool. It will not appear immediately in the side bar, but will change the next time Specify is launched.</p>
<h4>&nbsp;</h4>
<h4>Hide Table</h4>
<p>Tables and fields that are not used by a discipline can be hidden. This will remove them from the Query Creators list and Simple Search Configuration choices. This will not remove the fields from forms. Data can still be added to the forms in the hidden field and will be saved in the database. This tool is mainly used to clean the lists presented for creating queries and simple searches. The hidden fields will not be removed from previously saved queries or reports. </p>
<p>&nbsp;</p>
<p><strong>Usage Notes</strong></p>
<p>Both the Tables and Fields have a description. This is useful when describing how fields and tables are used within individual disciplines. This is an editable field. Field usage notes can be viewed in a form by double clicking on a field caption. </p>
<p>&nbsp;</p>
<h4><u>Table Tools</u></h4>
<p>The following tools are available for tables only.</p>
<h4>Display Format</h4>
<p>Tables can be formatted, or represented by at least one main field.  These formats are used on forms and in search results as well as reports. Most tables are represented by only one field, (Collection Object shows the Catalog Number), but some are best represented by more than one field (Agent may be formatted to display last name, first name, middle initial). </p>
<p>It is important to note that Preferred Taxon, Geography, Chronostratigraphy and Lithostratigraphy fields use the Accepted Name as their format. This is configured in the Tree Definition.</p>
<p>Open the Display Formatting Editor by first choosing a table to format from the Tables list, then clicking  the <em>...</em> (dialog) button next to the Display Format field. </p>
<p>The first dialog that opens displays the name of the table, then displays any saved table formats for editing purposes. Buttons at the bottom of the dialog offer the following:</p>
<ul>
  <li><img src="../../images/check2.png" width="20" height="17" /> (checkmark) selects the saved format as the default, which will be used by the application.</li>
  <li><img src="../../images/Edit-2-16x16.png" width="16" height="16" /> (edit) opens the format editor for editing a saved format.</li>
  <li><img src="../../images/delete.png" width="16" height="16" /> (delete) removes the format.</li>
  <li><img src="../../images/add.png" width="16" height="16" /> (add) opens the format editor for creating a new format.</li>
</ul>
<p>Clicking the<em> <img src="../../images/Edit-2-16x16.png" width="16" height="16" /></em>or<em> <img src="../../images/add.png" width="16" height="16" /></em>button opens the second format editor dialog.</p>
<ul>
  <li><strong>Name</strong> is used when storing the format in the database. This should be short so as not to take up too much space.</li>
  <li><strong>Title</strong> is the name of the format and will appear in any table format lists (in the first format editor dialog and the Display Format Pick List). This will link to the shorter name in the database, allowing the title to be more descriptive.</li>
</ul>
<p>There are two types of Display Formats, a 'Single display format' that links to one or more fields and a' Display depends on value of field, which displays different results based on a conditional field.</p>
<p><strong>Single display format</strong></p>
<p>The Single display format allows users to select fields from the Available Fields window to be used in the table format.</p>
<ol>
  <li>First, click the <strong>Single display format</strong> button.</li>
  <li>Then select a <strong>Separator</strong>. These are typically commas.</li>
  <li>Next, select a field from the <strong>Available Fields</strong> window by either double clicking on a field or selecting the field and clicking the <em>Add Field </em>button. The Available Fields lists related tables and their fields. Simply click on the file folder of a related table to display the available fields for the table. </li>
</ol>
<p><strong>Display depends on value of field:</strong></p>
<p>This type of format is useful when the data in one field sets a condition for another field. A good example is a Current Determination in Ichthyology. A Collection Object can have many Determinations, but only one can be marked as Current. Rather than displaying all Determinations the table can be formatted to only display the Current Determination.</p>
<p>First choose the Display depends on value of field button.</p>
<p>The window will change to include a Field Value and Display Format.</p>
<p>Then choose a conditional field by clicking the <img src="../../images/open_arrows.png" width="16" height="16" /> button on the Pick List and choosing a field from the list.</p>
<p>Next, click the <img src="../../images/add.png" width="16" height="16" />(add) button at the bottom of the dialog. A <em>...</em> (dialog) button will appear in the window.</p>
<p>Click the <em>...</em> (dialog) button. The Format Editor described above will appear. </p>
<ol>
  <li>Select a <strong>Separator</strong>. These are typically commas.</li>
  <li>Next, select a field from the <strong>Available Fields</strong> window by either double clicking on a field or selecting the field and clicking the <em>Add Field </em>button. The Available Fields lists related tables and their fields. Simply click on the file folder of a related table to display the available fields for the table. </li>
<li>Once the Display Format has been saved, type the Field Value into the box. These will vary depending on the table and fields for the format. In the above example the Field Value for Current would be <em>true</em> and <em>false</em>. The Field Value can also be set to the Value of fields in a Pick List (a good example of this is Agent).</li>
</ol>

<p>Once the Formats have been created the table will need to be linked to the format by selecting the table in the Table list, then selecting the format from the Pick List next to the Display Format field.</p>
<h4>Aggregation </h4>
<p>Tables with a one-to-many relationship  to the primary table typically link multiple records to the primary table. Aggregating the related table takes uses the table format for each individual record and groups them together into one record.  These are useful when displaying data on forms, in search results and on reports. For example, a Collection Object can have many Preparations. The results of a query of Collection Objects with Preparations will return formatted Preparations data aggregated together in one record, separated by semi colons.</p>
<p>Open the Aggregation Editor by first choosing a table to aggregate from the Tables list, then clicking  the <em>...</em> (dialog) button next to the Aggregation field. </p>
<p>The first dialog that opens displays the name of the table, then displays any saved aggregation formats for editing purposes. Buttons at the bottom of the dialog offer the following:</p>
<ul>
  <li><img src="../../images/check2.png" alt="check" width="20" height="17" /> (checkmark) selects the saved aggregation as the default, which will be used by the application.</li>
  <li><img src="../../images/Edit-2-16x16.png" alt="edit" width="16" height="16" /> (edit) opens the aggregation editor for editing a saved aggregation.</li>
  <li><img src="../../images/delete.png" alt="delete" width="16" height="16" /> (delete) removes the aggregation.</li>
  <li><img src="../../images/add.png" alt="add" width="16" height="16" /> (add) opens the aggregation editor for creating a new aggregation.</li>
</ul>
<p>Clicking the<em> <img src="../../images/Edit-2-16x16.png" alt="edit" width="16" height="16" /></em> (edit) or<em> <img src="../../images/add.png" alt="add" width="16" height="16" /></em> (add) button opens the second aggregation editor dialog.</p>
<p>Table lists the name of the table being aggregated.</p>
<ul>
  <li><strong>Name</strong> is used when storing the aggregation in the database. This should be short so as not to take up too much space.</li>
  <li><strong>Title</strong> is the name of the aggregation and will appear in any aggregation format lists (in the first aggregation editor dialog and the Aggregation Pick List). This will link to the shorter name in the database, allowing the title to be more descriptive.</li>
  <li><strong>Display</strong> offers a Pick List of formats for the table. The ... (dialog) button opens the Format Editor for creating a new format or editing an old one.</li>
  <li><strong>Separator</strong> refers to the punctuation that will separate the individual records from one another. </li>
  <li><strong>Count</strong> refers to the number of records you wish to display. The limit is 10.</li>
  <li><strong>Ending</strong> is required when choosing a Count. It is a text field for typing in the words that will mark the end of the aggregation. This is typically <em>et al</em>.</li>
  <li><strong>Sort by</strong> offers a Pick List of fields in the table for sorting the returns. </li>
</ul>
<p>Once the Aggregation has been created the table will need to be linked to it by selecting the table in the Table list, then selecting the aggregation from the pick list next to the Aggregation field.</p>
<h4>Web Links</h4>
<p>At this time web links that are configured in the Schema Configuration  also need to be added to individual forms by exporting the form set and editing the xml file for the form. Please refer to <a href="System/WebLinks.html">Web Links.</a></p>
<p>&nbsp;</p>
<h4><u>Field Tools</u></h4>
<p>Fields have several properties that tables do not. </p>
<p><strong>Type</strong> displays the type of field. These are:</p>
<p>Bye = -127 to +127</p>
<p>Short</p>
<p>Integer </p>
<p>Long</p>
<p>String</p>
<p><strong>Length</strong> tells the length of the field. This is particularly useful to know when adding text to remarks fields.</p>
<p><strong>Is Required </strong>refers to the required fields on forms. Any fields that are required by the application can not be edited to no be required, but fields that are not required can be changed to a required field.</p>
<p><strong>Format Type</strong> allows fields to be formatted into a Number Format, <a href="PickList/Pick_List.html">Pick List</a> or <a href="System/Web_Link.html">Web Link </a>depending on the type of field.</p>
<p>List Field types and what they can be formatted as.</p>
<p>&nbsp;</p>
</body>
</html>
