<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link href="../../main.css" rel="stylesheet" type="text/css" media="screen"></link>
<title>WorkBench Uploader</title>
<style type="text/css">
<!--
..style8 {font-size: xx-large}
-->
</style>
</head>

<body bgcolor="#ffffff">
<table width="100%" border="0" background="../../images/topbar.png">
  <tr>
    <td>&nbsp;</td>
  </tr>
</table><br />
<table border="0">
<tr><td><img src="../../images/upload_data.gif" width="48" height="48" /></td>
<td><h2>WorkBench Uploader</h2></td></tr>
</table>
<p>The Upload function is not available from the stand alone WorkBench. Data Sets created using the stand alone version will need to be exported and reimported into the Specify 6 WorkBench  for uploading. The current version of the stand alone WorkBench is not able to keep Data Set mapping information, but a future release of the WorkBench will have this capability, which will make the import into the Specify WorkBench an easier task. </p>
<p>Data Sets in the WorkBench can be uploaded into Specify 6 with the Uploader Tool. This makes the uploader a fast and easy way to transfer data from an MS Excel or CSV file into Specify by first <a href="../Workbench/ImportData.html">importing</a> the data into the WorkBench. Before uploading the Data Set please note the following:</p>
<ul>
  <li>The Data Set mapping must be correct for data to be accurately uploaded into Specify 6.</li>
  <br />
  <li>Fields that are required in Specify 6 must include data in the Data Set. For example; if a Data Set column is mapped to a Taxon field in Specify,  all required Taxon fields, including enforced ranks, must be mapped and include data in the Data Set.</li><br />
  <li>At this time the Uploader does not update or change data, it only adds new records. </li><br />
  <li>Any Specify tabs that allow data to be written to the database must be closed when uploading from the WorkBench. In other words, while uploading no user in a Collection can edit Forms, Trees, Tree Definitions, System Configuration or the Schema Configuration. Specify will automatically close any open tabs after prompting the user.</li><br />
  <li>In a multi-collection database the WorkBench is unable to verify Data Sets and their appropriate collections. It is up to the user to ensure that the Data Set is being uploaded to the correct Collection.</li><br />
 <li> When uploading Data Sets with attachments only the Collection Object, Accession, Taxon, Locality and Collecting Event tables can accept attachments in the uploader. If one of these tables is not present in the mapping file for the data set an error message will display informing the user that the attachments can not be uploaded. <br />
   <br />
 Also, the uploaded attachment will be attached to the 'main' table that is present in the data set mapping. The uploader will look for main tables in this order; Collection Object, Accession, Taxon, Collecting Event and then Locality. </li>
</ul>
<p>&nbsp;</p>
<p>Uploading is a complex process, that requires user input at each vital step. Each step in the process is explained in detail below.</p>
<p><strong>Upload a Data Set</strong></p>
<ol>
  <li>Open a Data Set in the Specify 6 WorkBench. </li>
  <br />

  <li>Click the <img src="../../images/upload_data_20x20.gif" width="20" height="20" />(Upload) button found in the Workspace Item Bar. The WorkSpace will split to include the WorkBench Uploader. The WorkBench Uploader includes 3 areas:<br />
    <br />
    <strong>Affected Tables</strong> lists the tables included in the Data Set file to be uploaded.<br />
    <br />
    <strong>Messages</strong> is used by the Uploader to present progress and other information to the user.<br />
    <br />
    <strong>Buttons:</strong><br />
    <br /><ul><li>
    <u>Validate</u> the data before allowing the upload.</li>
    <br />
    <br /><li>
    <u>Upload</u> starts the upload.</li>
    <br />
    <br /><li>
    <u>Settings</u> configures the upload for matching records.</li>
    <br />
    <br /><li>
    <u>Close</u> the Uploader.</li>
    <br />
    </ul>
    
    


  <br />
  <br />
  <li>Click the <em>Validate</em> button to validate the data. This checks the data within the field for any incorrect data formats (such as dates and lat/longs) and fields that are required in the Specify Schema. It also ensures that the necessary related fields are present between multiple tables. When validation errors are present the Uploader will split the <em>Messages</em> window showing validation errors in the top portion and general messages below as well as  a <em>View Report</em> button. Click the button to view and print a report of the validation errors. The Upload button will remain inactive until all validation errors have been corrected.
    <br />
    <br />
    Examples of invalid data:<br />
    
    <table width="100%" border="0" cellspacing="2" cellpadding="6">
      <tr>
        <td><blockquote>
          <p><u>Locality</u><br />
            The Latitude and Longitude must be in one of the accepted formats (Decimal Degrees, Degrees:Decimal Minutes or Degrees:Minutes:Seconds). Formats can be changed using the <a href="LatLongConvert.html"> Lat/Long Converter.</a></p>
            <p><u>Taxon, Geography, Lithostratigraphy, Chronostratigraphy and Storage </u><br />
              All required ranks must be present and contain data.<br />
              Tree definition levels (ranks) must be present in the Tree Definition.<br />
            </p>
            <p><u>Collection Objects, Accessions, Loan</u><br />
            umber formats must match the format specified for this field in Specify. </p>
            <p>&nbsp;</p>
        </blockquote></td>
      </tr>
      </table>
    <br />
    <br />
  </li>
  <li>Click the <em>Settings</em> button to configure the upload for processing matching records between the Data Set  and the Specify database. It is important to note that when only one matching record is found the Uploader does not create a new record, but will use the matched record for any related information. For example; when uploading a Collection Object with Collecting Event data the Collecting Event may already exist in Specify. The Uploader matches the Collecting Event data in the Data Set to the existing record in Specify, and does not add a new Collecting Event in Specify, but does create a link between the  Collection Object being uploaded and the existing Collecting Event in Specify.</li>
  <br />
  <br /><strong>Tables</strong> lists the tables that are included in the upload.<br />
    <br />
    <strong>Messages</strong> is used by the Uploader to present progress and other information to the user.<br />
    <br />
    <strong>Match Action </strong>configures the Uploader response when more than one matching records are found.<br />
    <br /><ul>
      <li>
    <u>Prompt</u> will display the matching records in a dialog and require the user to choose which of the matching records to use. A choice to add a new record is also provided.</li>
    <br />
    <br />
    <li><u>Prompt and Remember</u> will treat the first record with matches exactly as an 'Prompt' above, but will remember the choice and automatically use it again when identical values are found for succeeding records.</li>
    <br />
    <br />
    <li><u>Add New Record</u> will simply add a new record and not search for matches. This may cause duplicate records in the database.</li>
    <br />
    <br />
    <li><u>Pick First</u> will choose the first match found and not prompt the user. A message indicating these will appear in the message portion of the Uploader.</li>
    <br /><br />
     <li><u>Skip Row</u> will skip the matching Data Set record.<br /><br />
    </li></ul><br />
    <strong>Match Empty Cells</strong> will search empty fields as part of the search criteria and require a match when set to <em>True</em> and disregard empty fields when set to <em>False</em>.<br />
    <br /><br />
  <li>Click Upload.  While the upload is processing each Table in the Affected Tables window keeps a tally of the number of records updated. The individual records that are updated are listed in the Messages window. The Upload can be stopped at any time by clicking the <em>Stop</em> button on the status bar and any uploaded records can be discarded by clicking the <em>Undo</em> button on the Workspace.  </li>
  <br />
  <li>Once the upload is complete the data is still not committed to the database. Both Query and Simple Searches can be used to examine the uploaded data before committing it. Records opened in a form from  the results window are only available to view  and can not be edited. Records in the results window can not be saved as Record Sets. The following buttons will appear on the Uploader:<br />
    <br />
    <strong>View</strong> displays the uploaded records in a custom results page, indicating each table that is affected. These results can be printed viewed in a form or exported as an MS Excel file.<br />
    <br />
    <strong>Undo</strong> removes all uploaded data from the database.<br />
    <br />
    <strong>Save</strong> will save the upload and 
    <br />
  </li>
  <br />
  <br />
  <li>Click the Save button to commit the uploaded records to the database.</li>
</ol>
<br />
<p><strong><em>Note:</em></strong> If a  tree rank is included in an upload that has not been included in the Tree Definition, Specify will use the name of the file to label the undefined node. </p>
<p><em><strong>Note:</strong></em> When latitude and longitude values are entered into the WorkBench,  the original value is captured into a hidden field to assist with format conversions. When  data is uploaded into Specify data from these fields is copied into the Specify (Source) field and will display on the Locality form.</p>
<p>&nbsp;</p>
</body>
</html>
