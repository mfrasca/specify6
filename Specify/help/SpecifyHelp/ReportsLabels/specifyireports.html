<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link href="../../main.css" rel="stylesheet" type="text/css" media="screen"></link>
<title>Reports</title>
<style type="text/css">
<!--
..style8 {font-size: xx-large}
-->
</style>
</head>

<body bgcolor="#ffffff">
<table width="100%" border="0" background="../../images/topbar.png">
  <tr>
    <td>&nbsp;</td>
  </tr>
</table><br />
<table border="0">
<tr><td valign="bottom"><img src="../../images/spireport.png" width="47" height="32" /></td>
<td valign="bottom"><h2>SpecifyiReport</h2></td></tr>
</table>
<a name="ireport_overview" id="ireport_overview"></a>A report is used to  present the results of a Query  in an attractive and reader-friendly arrangement, either on paper or on screen as a report preview. 
<p>Specify harnesses the power of iReport 3.0, an open source report writing software package, by modifying the original version to specifically interact with Queries created in Specify 6 and data supplied from the Specify 6 database. &nbsp;Once within SpecifyiReport, the interface is identical to that of iReport.</p>
<p>In-depth documentation for using iReport can be accessed from their <a href="http://jasperforge.org/website/ireportwebsite/IR%20Website/iReport_documentation.html?group_id=243&header=project&leftnav=yes&target=ireport">web page</a>. The following documentation is meant to explain how to bring a Specify Query into the Specify 6 version of iReport and then create a simple report. &nbsp;</p>
<p>The Specify staff also provide limited report-writing services for all registered Specify users. To benefit from their expertise please contact them at <a href="mailto:specify@ku.edu">specify@ku.edu</a>.
<p>SpecifyiReport ships with Specify but is a separate application and must be launched separately from Specify. SpecifyiReport is located in the Specify application <em><strong>bin</strong></em> directory, which stores the executable files for Specify. Double click <em>the SpecifyiReport</em> executable to launch SpecifyiReport. &nbsp;As with Specify, you will be prompted for <a href="../Dialogs/Login.html">login</a> information.&nbsp; In a multiple collection scenario you will also be prompted for the collection in which you would like to create the Report.

<p>Reports can also be created by writing directly in MySQL and then imported into Specify. The Report needs to include this Report Query Where clause: &quot;where co.collectionobjectid $P!{itemnum} . Also include a parameter named &quot;itemnum&quot;. </p>
<p>Reports need to be viewed and printed from within Specify. SpecifyiReports does not include a preview. However, you can have both open at the same time and switch between the two to preview the report or changes being made in Specify. You will need to click the <em>Refresh</em> button in the Specify Reports sidebar for changes to be updated. For information on printing reports from within Specify, see <a href="../ReportsLabels/reports.html">Reports</a>.
<p>
<h3><strong> <u><a name="ir_create" id="ir_create"></a>Creating a Report from a Query</u></strong></h3>
<p>Reports are generated by report definitions, which are in turn based on Specify Queries; therefore, the first step in creating a Report is to create and save a <a href="../QueryBuilder/Query_Builder.html">Query</a>. When constructing the query, remember that checking the Prompt box for a query field will ensure the option to change the criteria for the field when running a report.</p>
<div>
  <div> </div>
</div>
<h3><u><a name="ir_components" id="ir_components"></a>Components</u></h3>
<p>The following is meant to familiarize the user with the basic components of SpecifyiReport and will lead the user through the set-up wizard, adding conditions and saving the report. </p>
<p>Choose <em>File &gt; Report Wizard</em> from within SpecifyiReport and  choose a saved Query to associate with the report. </p>
<p><a name="ir_properties" id="ir_properties"></a>A <strong>Report Properties</strong> dialog will appear allowing for basic report set-up.</p>
<ul>
  <li>
    <p><strong>Report Name</strong> is the name that will appear associated with the Report in the Specify sidebar. Ensure that you name the report appropriately according to its function for optimal use.</p>
  </li>
  <li>
    <p><strong>Page Size</strong> designates the area assigned to the report. Choose a predefined size or create a custom size.</p>
  </li>
  <li><strong>Page Margin</strong> delineates the non-printing margins around the page.</li>
  <br />
  <li><strong>Columns</strong> can be used to create multiple labels per page or columns of data</li>
  <br />
  <li><strong>Scriplet Classes</strong> are Java classes that can be used to execute special events during printing. Users that are familiar with Java can include custom scriplets in this tab.</li><br />
  <li><strong>More</strong> includes choices for printing title, summary, column footer, pagination, print order and how to handle no data. </li><br />
  <li><strong>i18n</strong> allows special Java classes, bundles and encoding to be implemented for printing formatted fields, internationalizing a report and saving source files.</li><br />
</ul>
<p>&nbsp;</p>
<h4><strong><a name="ir_bands" id="ir_bands"></a>Bands</strong></h4>
<p>Once the basic set-up is complete, an emptily report template will appear. iReport separates  reports into sections, or bands. Data is then printed according to their band band definition. For example, a title is printed once but detail is repeated for every record. Bands can be resized by holding the mouse on the separate line until cross hairs appear, then click and drag the line. Bands can also be removed if not needed by dragging the lower edge of the band onto the upper edge (thereby making its height zero).</p>
<table width="100%" border="1" cellspacing="2" cellpadding="6">
  <tr>
    <td><div align="left"><u><strong>Report Band</strong></u></div></td>
    <td><div align="left"><u><strong>Description</strong></u></div></td>
  </tr>
  <tr>
    <td><div align="left"><strong>title</strong></div></td>
    <td>Only created once in the report and can be its own page.</td>
  </tr>
  <tr>
    <td><div align="left"><strong>page header</strong></div></td>
    <td>Appears on all pages (except title and summary pages that are included as their own page) in the same position.</td>
  </tr>
  <tr>
    <td><div align="left"><strong>column header</strong></div></td>
    <td>Printed at the beginning of each detail column.</td>
  </tr>
  <tr>
    <td><div align="left"><strong>detail</strong></div></td>
    <td>Corresponds to every record that feeds the report.</td>
  </tr>
  <tr>
    <td><div align="left"><strong>column footer</strong></div></td>
    <td>Appears at the end of every column.</td>
  </tr>
  <tr>
    <td><div align="left"><strong>page footer</strong></div></td>
    <td>Appears on every page that includes a page header.</td>
  </tr>
  <tr>
    <td><div align="left"><strong>last page footer</strong></div></td>
    <td>Creates a unique footer for the last page.</td>
  </tr>
  <tr>
    <td><div align="left"><strong>summary</strong></div></td>
    <td>Allows  fields to be inserted for ending statements such as total calculations or means.</td>
  </tr>
</table>
<p>&nbsp;</p>
<h4><strong><a name="ir_panes" id="ir_panes"></a>Panes</strong></h4>
<p>Menus on the sides of the Workspace in iReport are called Panes. Three main panes that are helpful to have open are <em>Document Structure</em>, <em>Properties</em> and <em>Library</em>. These can be opened/closed in <em>View &gt; Docking Panes</em>. Any item within these panes can be dragged and dropped into a band. When the item is dropped into a band the expression that represents it is displayed in a Text Field. </p>
<p>Right-button-click on an object within the panes to display a context menu with choices for Edit, Add, Move, Cut, Copy, Paste, Delete, Add a Group and Refresh.</p>
<p>Note: Objects within the panes can also be manipulated via a grid by choosing <em>View &gt; (Fields, Parameters or Variables)</em>. </p>
<u>Document Structure pane</u>
<p>The Document Structure typically opens on the left side and is organized into 3 sections:</p>
<ul>
  <li><strong>Fields</strong> lists the fields in the Query available for inclusion in the report.</li>
  <li><strong>Parameters</strong> are the programmatic values created by Specify to print reports from iReport. </li>
  <li><strong>Variables</strong> lists the elements included in each band along with their programmatic position on the page.</li>
</ul>
<p>Fields and Parameters can be dragged and dropped onto a band. Notice that the field is displayed in the band as a 'textField' in the Variables section. This refers to the text that will come from the Query and occupy the field. The text occupying the field can be manipulated in its appearance, but should not be changed. The size of the field can be changed by clicking on the field to produce an outline, then grabbing one of the boxes on the outline and dragging it.</p>
<p>&nbsp;</p>
<u>Properties pane </u>
<p>Objects from the Document Structure that are placed into bands display their properties in this window. Properties includes a Common, Text and Text Field section.</p>

<ul>
<li><strong>Common</strong> lists properties for the band such as size, background color, and printing expressions.</li><br />
<li><strong>Text</strong> offers properties for the text as well as line spacing. </li><br />
<li><strong>Text Field</strong> includes some useful expressions:</li><br />
<ul>
  <li>Check <em>Stretch with Overflow</em>  to ensure that long records print correctly without losing text.</li> <br />
    <li>Check <em>Blank when null</em> to avoid printing 'null' for blank records</li>
</ul>
</ul>

<p>&nbsp;</p>
<u>Library </u> (sometimes referred to in other documentation as the Object Library)
<p>The library window contains a set of tools useful to perform common tasks such a Page Number, Total Pages, Page X of Y, Total, Current Date and Percentage.</p>
<p>&nbsp;</p>
<h3><u><strong><a name="ir_tasks" id="ir_tasks"></a>Task Examples</strong></u></h3>
<p><strong>Combining Fields</strong> is often useful  in a report (First Name, Last Name) separated by a comma. This can be accomplished by editing an expression in the Properties pane. </p>
<ol>
  <li>Add  Field A to the proper band and keep it active (a colored box will appear around the field).</li><br />
  <li>In the Properties pane scroll down to the Text Field section. Find <em>Expression</em> in the list. Next to the text field is a <em>...</em> button. Click that button.</li><br />
  <li>The Expression Editor will appear. Field A will be included in the top window as an expression. There are 3 boxes under the window, make sure the first box has Fields selected and find Field B in the second box and double click. Field B will be added to the top window.</li><br />
  <li>Between Field A and Field B type this: + &quot;,&quot; +</li>
</ol>
<p><em><strong>Note:</strong></em> Typing (+ &quot; &quot; +) between two field expression in this dialog will include whatever text is between quotation marks to appear on the report.</p>
<p>&nbsp;</p>
<p><strong><a name="report_text" id="report_text"></a>Add a Text Field</strong> </p>
<ul>
  <li>Click the  <img src="../../images/static_text_button.png" width="19" height="17" /> (static text field) button in the task bar, then click in the appropriate band and drag to outline the size of the static text field.</li>
</ul>
<p>The text properties can be edited in the Properties pane. </p>
<p>&nbsp;</p>
<h4><strong><a name="ir_groups" id="ir_groups"></a>Groups</strong></h4>
<p>Groups can be created in a report if the results of a query have been sorted correctly. SpecifyiReport reads the data and 'groups' similar data together as they are ordered. The report can then be structured based on the content of the report. </p>
<ol>
  <li>Click View &gt; Report Groups to open the Group editor.</li>
  <br />
  <li>Click New, and give the group a Name in the box provided by the Add/Edit dialog.</li>
  <br />
  <li>In the Group Expression window there is an <em>Edit</em> button. Click that button to open the expression editor.</li>
  <br />
  <li>Click <em>Field</em> in the bottom left panel and double click the desire field in the list (displayed in the middle panel). The field name should appear in the expression window. Click the <em>Apply</em> button.</li>
  <br />
  <li>The field should now show in the Group Expression window of the Add/Edit dialog. </li>
  <br />
  <li>Designating a field as a Group allows choices for each data grouping:</li>
  <br />
  <ul>
    <li><strong>Start A New Column</strong> will place each data group in its own column.</li>
    <br />
    <li><strong>Start A New Page</strong> will put a page break at the end of each data group.</li>
    <br />
    <li><strong>Reset Page Number</strong> starts each data group at page 1.</li>
    <br />
    <li><strong>Print Header on Each Page</strong> prints the group header on each page.</li>
  </ul>
</ol>
<p>Creating a Group will add a Group band and Group  Footer band to the report.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h3><u><a name="ir_barcodes" id="ir_barcodes"></a>Including Barcodes</u></h3>
<p>When creating or editing a report in SpecifyiReport it is often necessary to include a barcode. A string field that includes a barcode and can be part of a report by following these steps:</p>
<ol>
  <li>Click the <img src="../../images/barcode.png" alt="barcode button" width="14" height="12" /> (barcode) button on the tool bar. </li>
  <li>Click and drag an outline for the barcode field in the detail band of the report. </li>
  <li>In the Properties pane, click the <em><strong>...</strong></em> button for the Barcode exp. (at the bottom of the pane under Barcode).</li>
  <li>The Barcode Expression Editor dialog will appear. </li>
  <li>Delete anything that appears in the top box. </li>
  <li>Click Fields in the bottom left pane.</li>
  <li>Double click on the appropriate field in the middle box. It should appear in the top box.</li>
  <li>Click the Apply button.</li>
</ol>
<p><img src="../../images/barcode_editor.png" alt="barcode editor" width="609" height="372" /></p>
<p>&nbsp;</p>
<p>SpecifyiReport supports the following barcodes:</p>
<table width="100%" border="1" cellspacing="2" cellpadding="6">
  <tr>
    <td>2of7</td>
    <td>Code128B</td>
    <td>EAN13</td>
    <td>SCC14Shipping</td>
    <td>APCA</td>
  </tr>
  <tr>
    <td>3of9</td>
    <td>Code128C</td>
    <td>Global Trade</td>
    <td>Shipment Identifier</td>
    <td>UPC3</td>
  </tr>
  <tr>
    <td>Bookland</td>
    <td>Code39</td>
    <td>Int2of5</td>
    <td>SSCC18</td>
    <td>UPC4</td>
  </tr>
  <tr>
    <td>Codabar</td>
    <td>Code39(extended)</td>
    <td>Monarch</td>
    <td>Std2of5</td>
    <td>USPS</td>
  </tr>
  <tr>
    <td>Code128</td>
    <td>EAN128</td>
    <td>PDF417</td>
    <td>UCC128</td>
    <td>&nbsp;</td>
  </tr>
</table>
<p>&nbsp;</p>
<p><strong><a name="ir_save" id="ir_save"></a>Saving a Report</strong></p>
<p>Once a report is created to satisfaction, it can be saved by choosing <em>File &gt; Save</em>. A Report Properties dialog will appear:</p>
<ol>
  <li>Type a <strong>Name</strong> for the Report</li>
  <li>Choose the <strong>Report Type</strong> as either Report or Label. This is purely for organizational purposes. Choosing Label will list the report under the Label heading on the Reports Sidebar and choosing Report will list the report under the Report heading.</li>
  <li><strong>Save For </strong>refers to level of access give to the report. Discipline will allow all collections within the Discipline access to the report and Collection will limit the access to the current collection only.</li>
  <li>Choose a <strong>Repeat</strong> variable:</li>

<ul>
  <li><strong>Once</strong> will create one report/label.</li>
  <li><strong>Constant</strong> duplicates the report/label and will give a number field for selecting the number of times for the repeat. If the number box is not present stretch the Save dialog box. </li>
  <li><strong>By Field</strong> duplicates the report/label by field. </li>
</ul></ol>
<p>&nbsp;</p>
<p>If Specify is running while the report is created and saved, press <em>Refresh</em> to have the new report appear in the Reports Sidebar.</p>
<p>Saved reports can be opened from within SpecifyiReport to view and edit by choosing <em>File &gt; Open</em> and selecting either the label or report from the list. It is important to remember when editing a report that reports are created from Queries; therefore, new fields may not be added to a report. Fields may be removed. </p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
</BODY>
</html>
