<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link href="../../main.css" rel="stylesheet" type="text/css" media="screen"></link>
<title>Reports</title>
<style type="text/css">
<!--
..style8 {font-size: xx-large}
-->
</style>
</head>

<body bgcolor="#ffffff">
<table width="100%" border="0" background="../../images/topbar.png">
  <tr>
    <td>&nbsp;</td>
  </tr>
</table><br />
<table border="0">
<tr><td><img src="../../images/spireport.png" width="47" height="32" /></td>
<td valign="bottom"><h2>SpecifyiReport</h2></td></tr>
</table>
<p>A report is used to  present the results of a Query  in an attractive and reader-friendly arrangement, either on paper or on screen as a report preview. </p>
<p>Specify has utilized the power of iReport 3.0, an open source report writing software package, by changing the original version to interact with Queries created in Specify 6 and  the Specify 6 database. </p>
<p>In-depth documentation for using iReport can be accessed from their <a href="http://jasperforge.org/website/ireportwebsite/IR%20Website/iReport_documentation.html?group_id=243&header=project&leftnav=yes&target=ireport">web page</a>. The following documentation is meant  to  explain how to use the functionality on the Reports Sidebar, bring a Specify Query into the Specify 6 version of iReport then create a print simple report. </p>
<p>The Specify staff also provide limited report-writing services for all registered Specify users. To benefit from their expertise please contact them at <a href="mailto:specify@ku.edu">specify@ku.edu</a>.
<p>iReport ships with Specify but is a separate application and must be launched separately from Specify. SpecifyiReport is located in the Specify application directory, in the <strong><em>bin</em></strong> file, which stores the executable files for Specify. Double click <em>SpecifyiReport</em> to launch iReport.

<p>Specify ships with a Label and Catalog Report. These can be opened from within SpecifyiReport to view and edit by choosing <em>File &gt; Open</em> and selecting either the label or report from the list. </p>
<p>Reports can also be created in the non-Specify version of iReport and then imported into Specify. The Report needs to include this Report Query Where clause: &quot;where co.collectionobjectid $P!{itemnum} . Also include a paramenter named &quot;itemnum&quot;. </p>
<p>

<h3><strong> <u>Query</u></strong></h3>
<p>Reports are generated by report definitions, which are in turn based on Specify Queries; therefore, the first step in creating a Report is to create and save a Query. </p>
<ul>
  <li>Choose Query from the Specify Taskbar..</li>
  <li>Select what type of Query to create. (e.g. Agent, Collecting Event, Collection Object, etc)</li>
  <li>Choose the query expressions to be used.</li>
  <li>Save the Query.</li>
</ul>
<p>For more information, see <a href="../QueryBuilder/Query_Builder.html">Query Builder</a>.</p>
<p>&nbsp;</p>
<h3><u>Components</u></h3>
<p>The following text is meant to familiarize the user with the basic components of SpecifyiReport and will step  through a set-up wizard, then add conditions for the report. </p>
<p>Choose <em>File &gt; Report Wizard</em> from within SpecifyiReport and  choose a saved Query for the report. </p>
<p>A <strong>Report Properties</strong> dialog will appear allowing for basic report set-up.</p>
<ul>
  <li><strong>Report Name</strong></li>
  <li><strong>Page Size</strong></li>
  <li><strong>Page Margin</strong></li>
  <li><strong>Columns</strong></li>
  <li><strong>Scriplet Classes</strong> are Java classes that can be used to execute special events during printing. Users that are familiar with Java can include custom scriplets in this tab.</li>
  <li><strong>More</strong> includes choices for printing title, summary, column footer, pagination, print order and how to handle  no data. </li>
  <li><strong>i18n</strong> allows special Java classes, bundles and encoding to be implemented for printing formatted fields, internationalizing a report and saving source files.</li>
</ul>
<p>&nbsp;</p>
<p><strong>Bands</strong></p>
<p>Once the basic set-up is complete, an emptily report will appear. iReport separates  reports into sections, or bands. Data is then printed according to their band band definition. For example, a title is printed once but detail is repeated for every record. Bands can be resized by holding the mouse on the separate line until cross hairs appear, then click and drag the line.</p>
<table width="100%" border="1" cellspacing="2" cellpadding="6">
  <tr>
    <td><div align="left"><u><strong>Report Band</strong></u></div></td>
    <td><div align="left"><u><strong>Description</strong></u></div></td>
  </tr>
  <tr>
    <td><div align="left"><strong>title</strong></div></td>
    <td>Only created once in the report and can be its own page.</td>
  </tr>
  <tr>
    <td><div align="left"><strong>page header</strong></div></td>
    <td>Appears on all pages (except title and summary pages that are included as their own page) in the same position.</td>
  </tr>
  <tr>
    <td><div align="left"><strong>column header</strong></div></td>
    <td>Printed at the beginning of each detail column.</td>
  </tr>
  <tr>
    <td><div align="left"><strong>detail</strong></div></td>
    <td>Corresponds to every record that feeds the report.</td>
  </tr>
  <tr>
    <td><div align="left"><strong>column footer</strong></div></td>
    <td>Appears at the end of every column.</td>
  </tr>
  <tr>
    <td><div align="left"><strong>page footer</strong></div></td>
    <td>Appears on every page that includes a page header.</td>
  </tr>
  <tr>
    <td><div align="left"><strong>last page footer</strong></div></td>
    <td>Creates a unique footer for the last page.</td>
  </tr>
  <tr>
    <td><div align="left"><strong>summary</strong></div></td>
    <td>Allows  fields to be inserted for ending statements such as total calculations or means.</td>
  </tr>
</table>
<p>&nbsp;</p>
<p><strong>Groups</strong></p>
<p>Groups can be created in a report if the results of a query have been sorted correctly. SpecifyiReport reads the data and 'groups' similar data together as they are ordered. The report can then be structured based on the content of the report. </p>
<ol>
  <li>Click View &gt; Report Groups to open the Group editor.</li><br />
  <li>Click New, and give the group a Name in the box provided by the Add/Edit dialog.</li><br />
  <li>In the Group Expression window there is an <em>Edit</em> button. Click that button to open the expression editor.</li>
  <br />
  <li>Click <em>Field</em> in the bottom left panel and double click the desire field in the list (displayed in the middle panel). The field name should appear in the expression window. Click the <em>Apply</em> button.</li>
  <br />
  <li>The field should now show in the Group Expression window of the Add/Edit dialog. </li><br />
  <li>Designating a field as a Group allows choices for each data grouping:</li>
  <br />
  <ul>
    <li><strong>Start A New Column</strong> will place each data group in its own column.</li>
    <br />
  <li><strong>Start A New Page</strong> will put a page break at the end of each data group.</li>
  <br />
  <li><strong>Reset Page Number</strong> starts each data group at page 1.</li>
  <br />
  <li><strong>Print Header on Each Page</strong> prints the group header on each page.</li>
  </ul>
</ol>
<p>Creating a Group will add a Group band and Group  Footer band to the report.</p>
<p>&nbsp;</p>
<p><strong>Panes</strong></p>
<p>Menus to the side of the Workspace in iReport are called Panes. Three main panes that are helpful to have open are <em>Document Structure</em>, <em>Properties</em> and <em>Library</em>. These can be opened/closed in <em>View &gt; Docking Panes</em>. Any item within these panes can be dragged and dropped into a band. When the item is dropped into a band the expression that represents it is displayed in a Text Field. </p>
<p>Right-button-click on an object within the panes to display a context menu with choices for Edit, Add, Move, Cut, Copy, Paste, Delete, Add a Group and Refresh.</p>
<p>Note: Objects within the panes can also be manipulated via a grid by choosing <em>View &gt; (Fields, Parameters or Variables)</em>. </p>
<u>Document Structure</u>
<p>The Document Structure is  organized into 3 sections:</p>
<ul>
  <li><strong>Fields</strong> lists the fields in the Query.</li>
  <li><strong>Parameters</strong> are the programmatical values created by Specify to print reports from iReport. </li>
  <li><strong>Variables</strong> are used to store the results of calculations, such as subtotals (page x of y) and sums (counts).</li>
</ul>
<p>Make sure to properly place the group where you want it, and to make it the proper size. Band sizes can be adjusted to smaller or bigger sizes by right-button-clicking on their outline and dragging.</p>
<p>&nbsp;</p>
<u>Properties</u> 
<p>Objects from the Document Structure that are placed into bands display their properties in this window. Properties includes a Common, Text and Text Field section.</p>

<ul>
<li><strong>Common</strong> lists properties for the band such as size, background color, and printing expressions.</li><br />
<li><strong>Text</strong> offers properties for the text as well as line spacing. </li><br />
<li><strong>Text Field</strong> includes some useful expressions:</li><br />
<ul>
  <li>Check <em>Stretch with Overflow</em>  to ensure that long records print correctly without losing text.</li> <br />
    <li>Check <em>Blank when null</em> to avoid printing 'null' for blank records</li>
</ul>
</ul>

<p>&nbsp;</p>
<u>Library </u> (sometimes referred to in other documentation as the Object Library)
<p>The library window contains a set of tools useful to perform common tasks such a Page Number, Total Pages, Page X of Y, Total, Current Date and Percentage.</p>
<p>&nbsp;</p>
<p><u><strong>Task Examples</strong></u></p>
<p><strong>Combining Fields</strong> is often useful  in a report (First Name, Last Name) separated by a comma. This can be accomplished by editing an expression in the Properties pane. </p>
<ol>
  <li>Add  Field A to the proper band and keep it active (a colored box will appear around the field).</li><br />
  <li>In the Properties pane scroll down to the Text Field section. Find <em>Expression</em> in the list. Next to the text field is a <em>...</em> button. Click that button.</li><br />
  <li>The Expression Editor will appear. Field A will be included in the top window as an expression. There are 3 boxes under the window, make sure the first box has Fields selected and find Field B in the second box and double click. Field B will be added to the top window.</li><br />
  <li>Between Field A and Field B type this: + &quot;,&quot; +</li>
</ol>
<p><em><strong>Note:</strong></em> Typing (+ &quot; &quot; +) between two field expression in this dialog will include whatever text is between quotation marks to appear on the report.</p>
<p>&nbsp;</p>
<p><strong>Add a Text Field</strong> by clicking the T button in the text field, then clicking in the Title band and drawing the outline of the field. Type in the field and edit the appearance of the text in the Properties pane.<br />
</p>
<p>&nbsp;</p>
<p><strong>Saving a Report</strong></p>
<p>Once a report is created to satisfaction, it can be saved by choosing <em>File &gt; Save</em>. A Report Properties dialog will appear:</p>
<ol>
  <li>Type a <strong>Name</strong> for the Report</li>
  <li>Choose the <strong>Report Type</strong> as either Report or Label. This is purely for organizational purposes. Choosing Label will list the report under the Label heading on the Reports Sidebar and choosing Report will list the report under the Report heading.</li>
  <li>Choose a <strong>Repeat</strong> variable:</li>

<ul>
  <li><strong>Once</strong> will create one report/label.</li>
  <li><strong>Constant</strong> duplicates the report/label and will give a number field for selecting the number of times for the repeat. If the number box is not present stretch the Save dialog box. </li>
  <li><strong>By Field</strong> duplicates the report/label by field. </li>
</ul></ol>
<p>&nbsp;</p>
<p>If Specify is running while the report is created and saved, press <em>Refresh</em> to have the new report appear in the Reports Sidebar.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
</BODY>
</html>
