<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN" "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd"><hibernate-mapping>

<class name="edu.ku.brc.specify.datamodel.Agent" table="agent" lazy="true">
    <meta attribute="class-description" inherit="false"/>

    <id name="agentId" type="java.lang.Long" column="AgentID">
        <meta attribute="field-description">Primary key</meta>
        <meta attribute="scope-field">protected</meta>
        <generator class="native"/>
    </id>

    <timestamp name="timestampModified" column="TimestampModified">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description">Versioning Timestamp</meta>
    </timestamp>

    <property name="agentType" type="byte" column="AgentType" not-null="true" length="3">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description"></meta>
    </property>

    <property name="jobTitle" type="java.lang.String" column="JobTitle" length="50">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description">Agent's (person) job title at specified address and organization</meta>
    </property>

    <property name="firstName" type="java.lang.String" column="FirstName" length="50">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description">of Person</meta>
    </property>

    <property name="lastName" type="java.lang.String" column="LastName" length="50" index="IX_AgentLastName">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description">of Person</meta>
    </property>

    <property name="middleInitial" type="java.lang.String" column="MiddleInitial" length="50">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description">of Person</meta>
    </property>

    <property name="title" type="java.lang.String" column="Title" length="50">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description">of Person</meta>
    </property>

    <property name="interests" type="java.lang.String" column="Interests" length="255">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description">of Person or Organization</meta>
    </property>

    <property name="abbreviation" type="java.lang.String" column="Abbreviation" length="50" index="IX_AgentAbbreviation">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description">of organization</meta>
    </property>

    <property name="name" type="java.lang.String" column="Name" length="120" index="IX_AgentName">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description">of organization/group/Folks (and maybe persons)</meta>
    </property>

    <property name="email" type="java.lang.String" column="Email" length="50">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description"></meta>
    </property>

    <property name="url" type="text" column="URL">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description"></meta>
    </property>

    <property name="remarks" type="text" column="Remarks">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description"></meta>
    </property>

    <property name="timestampCreated" type="java.sql.Timestamp" column="TimestampCreated" not-null="true" length="23" update="false">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description"></meta>
    </property>

    <property name="lastEditedBy" type="java.lang.String" column="LastEditedBy" length="50" index="IX_Agent_2">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description"></meta>
    </property>
    
    <!--@TODO make this field != null> -->
    <property name="visibility" type="java.lang.Integer" column="Visibility"  length="10">
      	<meta attribute="scope-field">protected</meta>
        <meta attribute="field-description">Indicates whether this record can be viewed - by owner, by instituion, or by all</meta>  
    </property>
    	
      <property name="visibilitySetBy" type="java.lang.String" column="VisibilitySetBy" length="50" >
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description"></meta>
    </property>        	
    <!-- Associations -->

    <!-- bi-directional one-to-many association to Authors -->
    <set name="authors" lazy="true" inverse="true" cascade="none">
        <meta attribute="field-description"></meta>
        <key>
            <column name="AgentID"/>
        </key>
        <one-to-many class="edu.ku.brc.specify.datamodel.Authors"/>
    </set>
    
    <!-- bi-directional one-to-many association to GroupPersons -->
    <set name="groups" lazy="true" inverse="true" cascade="all-delete-orphan">
        <meta attribute="field-description"></meta>
        <key>
            <column name="MemberID"/>
        </key>
        <one-to-many class="edu.ku.brc.specify.datamodel.GroupPersons"/>
    </set>

    <!-- bi-directional one-to-many association to GroupPersons -->
    <set name="members" lazy="true" inverse="true" cascade="all-delete-orphan" order-by="orderNumber asc">
        <meta attribute="field-description"></meta>
        <key>
            <column name="GroupID"/>
        </key>
        <one-to-many class="edu.ku.brc.specify.datamodel.GroupPersons"/>
    </set>
    
    <!-- bi-directional one-to-many association to LoanReturnPhysicalObject -->
    <set name="loanReturnPhysicalObjects" lazy="true" inverse="true" cascade="none">
        <meta attribute="field-description"></meta>
        <key>
            <column name="ReceivedByID"/>
        </key>
        <one-to-many class="edu.ku.brc.specify.datamodel.LoanReturnPhysicalObject"/>
    </set>

    <!-- bi-directional one-to-many association to BorrowReturnMaterial -->
    <set name="borrowReturnMaterials" lazy="true" inverse="true" cascade="none">
        <meta attribute="field-description"></meta>
        <key>
            <column name="ReturnedByID"/>
        </key>
        <one-to-many class="edu.ku.brc.specify.datamodel.BorrowReturnMaterial"/>
    </set>

    <!-- bi-directional one-to-many association to ExchangeIn -->
    <set name="exchangeInCatalogedBys" lazy="true" inverse="true" cascade="none">
        <meta attribute="field-description"></meta>
        <key>
            <column name="CatalogedByID"/>
        </key>
        <one-to-many class="edu.ku.brc.specify.datamodel.ExchangeIn"/>
    </set>

    <!-- bi-directional one-to-many association to Agent -->
    <set name="orgMembers" lazy="true" inverse="true" cascade="save-update">
        <meta attribute="field-description"></meta>
        <key>
            <column name="ParentOrganizationID"/>
        </key>
        <one-to-many class="edu.ku.brc.specify.datamodel.Agent"/>
    </set>

    <!-- bi-directional many-to-one association to Agent  not-null="true"-->
    <many-to-one name="organization" class="edu.ku.brc.specify.datamodel.Agent" cascade="save-update" outer-join="true" index="IX_AgentParentOrganizationID">
        <meta attribute="field-description">of organization</meta>
        <column name="ParentOrganizationID"  />
    </many-to-one>

    <!-- bi-directional one-to-many association to Project -->
    <set name="projects" lazy="true" inverse="true" cascade="none">
        <meta attribute="field-description"></meta>
        <key>
            <column name="ProjectAgentID"/>
        </key>
        <one-to-many class="edu.ku.brc.specify.datamodel.Project"/>
    </set>

    <!-- bi-directional one-to-many association to Preparation -->
    <set name="preparations" lazy="true" inverse="true" cascade="none">
        <meta attribute="field-description"></meta>
        <key>
            <column name="PreparedByID"/>
        </key>
        <one-to-many class="edu.ku.brc.specify.datamodel.Preparation"/>
    </set>

    <!-- bi-directional one-to-many association to Determination -->
    <set name="determinations" lazy="true" inverse="true" cascade="none">
        <meta attribute="field-description"></meta>
        <key>
            <column name="DeterminerID"/>
        </key>
        <one-to-many class="edu.ku.brc.specify.datamodel.Determination"/>
    </set>

    <!-- bi-directional one-to-many association to Shipment -->
    <set name="shipments" lazy="true" inverse="true" cascade="none">
        <meta attribute="field-description"></meta>
        <key>
            <column name="ShippedByID"/>
        </key>
        <one-to-many class="edu.ku.brc.specify.datamodel.Shipment"/>
    </set>

    <!-- bi-directional one-to-many association to Collectors -->
    <set name="collectors" lazy="true" inverse="true" cascade="none">
        <meta attribute="field-description"></meta>
        <key>
            <column name="AgentID"/>
        </key>
        <one-to-many class="edu.ku.brc.specify.datamodel.Collectors"/>
    </set>

    <!-- bi-directional one-to-many association to ExchangeOut -->
    <set name="exchangeOutCatalogedBys" lazy="true" inverse="true" cascade="none">
        <meta attribute="field-description"></meta>
        <key>
            <column name="CatalogedByID"/>
        </key>
        <one-to-many class="edu.ku.brc.specify.datamodel.ExchangeOut"/>
    </set>

    <!-- bi-directional one-to-many association to Attachment -->
    <set name="attachments" inverse="true" cascade="all-delete-orphan" order-by="Ordinal ASC, TimestampCreated DESC">
        <key column="AgentID"/>
        <one-to-many class="edu.ku.brc.specify.datamodel.Attachment"/>
    </set>

    <!-- bi-directional one-to-many association to RepositoryAgreement -->
    <set name="repositoryAgreements" lazy="true" inverse="true" cascade="none">
        <meta attribute="field-description"></meta>
        <key>
            <column name="AgentID"/>
        </key>
        <one-to-many class="edu.ku.brc.specify.datamodel.RepositoryAgreement"/>
    </set>

    <!-- ***************** -->
    <!-- From AgentAddress -->
    <!-- ***************** -->

    <!-- bi-directional one-to-many association to Address -->
    <!-- this used to be a many-to-one -->
    <set name="addresses" lazy="true" inverse="true" cascade="all-delete-orphan">
        <meta attribute="field-description"></meta>
        <key>
            <column name="AgentID"/>
        </key>
        <one-to-many class="edu.ku.brc.specify.datamodel.Address"/>
    </set>

    <!-- bi-directional one-to-many association to LoanAgents -->
    <set name="loanAgents" lazy="true" inverse="true" cascade="none">
        <meta attribute="field-description"></meta>
        <key>
            <column name="AgentID"/>
        </key>
        <one-to-many class="edu.ku.brc.specify.datamodel.LoanAgents"/>
    </set>

    <!-- bi-directional one-to-many association to Shipment -->
    <set name="shipmentsByShipper" lazy="true" inverse="true" cascade="none">
        <meta attribute="field-description"></meta>
        <key>
            <column name="ShipperID"/>
        </key>
        <one-to-many class="edu.ku.brc.specify.datamodel.Shipment"/>
    </set>

    <!-- bi-directional one-to-many association to Shipment -->
    <set name="shipmentsByShippedTo" lazy="true" inverse="true" cascade="none">
        <meta attribute="field-description"></meta>
        <key>
            <column name="ShippedToID"/>
        </key>
        <one-to-many class="edu.ku.brc.specify.datamodel.Shipment"/>
    </set>

    <!-- bi-directional one-to-many association to DeaccessionAgents -->
    <set name="deaccessionAgents" lazy="true" inverse="true" cascade="none">
        <meta attribute="field-description"></meta>
        <key>
            <column name="AgentID"/>
        </key>
        <one-to-many class="edu.ku.brc.specify.datamodel.DeaccessionAgents"/>
    </set>

    <!-- bi-directional one-to-many association to ExchangeIn -->
    <set name="exchangeInFromOrganizations" lazy="true" inverse="true" cascade="none">
        <meta attribute="field-description"></meta>
        <key>
            <column name="ReceivedFromOrganizationID"/>
        </key>
        <one-to-many class="edu.ku.brc.specify.datamodel.ExchangeIn"/>
    </set>

    <!-- bi-directional one-to-many association to Permit -->
    <set name="permitsIssuedTo" lazy="true" inverse="true" cascade="none">
        <meta attribute="field-description"></meta>
        <key>
            <column name="IssuedToID"/>
        </key>
        <one-to-many class="edu.ku.brc.specify.datamodel.Permit"/>
    </set>

    <!-- bi-directional one-to-many association to Permit -->
    <set name="permitsIssuedBy" lazy="true" inverse="true" cascade="none">
        <meta attribute="field-description"></meta>
        <key>
            <column name="IssuedByID"/>
        </key>
        <one-to-many class="edu.ku.brc.specify.datamodel.Permit"/>
    </set>

    <!-- bi-directional one-to-many association to BorrowAgents -->
    <set name="borrowAgents" lazy="true" inverse="true" cascade="none">
        <meta attribute="field-description"></meta>
        <key>
            <column name="AgentID"/>
        </key>
        <one-to-many class="edu.ku.brc.specify.datamodel.BorrowAgents"/>
    </set>

    <!-- bi-directional one-to-many association to AccessionAgents -->
    <set name="accessionAgents" lazy="true" inverse="true" cascade="none">
        <meta attribute="field-description"></meta>
        <key>
            <column name="AgentID"/>
        </key>
        <one-to-many class="edu.ku.brc.specify.datamodel.AccessionAgents"/>
    </set>

    <!-- bi-directional one-to-many association to ExchangeOut -->
    <set name="exchangeOutSentToOrganizations" lazy="true" inverse="true" cascade="none">
        <meta attribute="field-description"></meta>
        <key>
            <column name="SentToOrganizationID"/>
        </key>
        <one-to-many class="edu.ku.brc.specify.datamodel.ExchangeOut"/>
    </set>
    
    <!-- bi-directional one-to-many association to SpecifyUser -->
    <set name="specifyUsers" lazy="true" inverse="true" cascade="all-delete-orphan">
        <meta attribute="field-description"></meta>
        <key>
            <column name="AgentID"/>
        </key>
        <one-to-many class="edu.ku.brc.specify.datamodel.SpecifyUser"/>
    </set>
    
    <!-- bi-directional one-to-one association to SpecifyUser -->
    <!-- <one-to-one name="specifyUser" class="edu.ku.brc.specify.datamodel.SpecifyUser" >
    <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description"></meta>
    </one-to-one> -->
</class>
</hibernate-mapping>
