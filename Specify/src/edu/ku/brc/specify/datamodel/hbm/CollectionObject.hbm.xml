<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN" "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd"><hibernate-mapping>

<class name="edu.ku.brc.specify.datamodel.CollectionObject" table="collectionobject" lazy="true" batch-size="50">
    <meta attribute="class-description" inherit="false"/>

    <id name="collectionObjectId" type="java.lang.Long" column="CollectionObjectID">
        <meta attribute="field-description"></meta>
        <meta attribute="scope-field">protected</meta>
        <generator class="native"/>
    </id>

    <timestamp name="timestampModified" column="TimestampModified">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description">Versioning Timestamp</meta>
    </timestamp>

    <property name="fieldNumber" type="java.lang.String" column="FieldNumber" length="50" index="IX_CollectionObjectFldNum">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description">BiologicalObject (Bird, Fish, etc)</meta>
    </property>

    <property name="description" type="java.lang.String" column="Description" length="50">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description">Image, Sound, Preparation, Container(Container Label?)</meta>
    </property>

    <property name="text1" type="text" column="Text1">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description">User definable</meta>
    </property>

    <property name="text2" type="text" column="Text2">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description">User definable</meta>
    </property>

    <property name="number1" type="java.lang.Float" column="Number1" length="24">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description">User definable</meta>
    </property>

    <property name="number2" type="java.lang.Float" column="Number2" length="24">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description">User definable</meta>
    </property>

    <property name="yesNo1" type="boolean" column="YesNo1">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description">User definable</meta>
    </property>

    <property name="yesNo2" type="boolean" column="YesNo2">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description">User definable</meta>
    </property>

    <property name="countAmt" type="java.lang.Integer" column="CountAmt" length="10">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description"></meta>
    </property>

    <property name="remarks" type="text" column="Remarks">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description"></meta>
    </property>

    <property name="name" type="java.lang.String" column="Name" length="64">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description"></meta>
    </property>

    <property name="modifier" type="java.lang.String" column="Modifier" length="50">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description"></meta>
    </property>

    <property name="catalogedDate" type="calendar_date" column="CatalogedDate">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description"></meta>
    </property>

    <property name="catalogedDateVerbatim" type="java.lang.String" column="CatalogedDateVerbatim" length="32">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description"></meta>
    </property>

    <property name="guid" type="java.lang.String" column="GUID" length="255">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description"></meta>
    </property>

    <property name="groupPermittedToView" type="java.lang.Integer" column="GroupPermittedToView" length="10">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description"></meta>
    </property>

    <property name="timestampCreated" type="java.sql.Timestamp" column="TimestampCreated" length="23" not-null="true" update="false">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description"></meta>
    </property>

    <property name="lastEditedBy" type="java.lang.String" column="LastEditedBy" length="50" index="IX_CollectionObject_2">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description"></meta>
    </property>

    <property name="deaccessioned" type="boolean" column="Deaccessioned">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description"></meta>
    </property>

    <property name="catalogNumber" unique="false" index="IX_CatalogNumber" type="java.lang.Float" column="CatalogNumber">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description"></meta>
    </property>

    <!--@TODO make this field != null> -->
    <property name="visibility" type="java.lang.Integer" column="Visibility"  length="10">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description">Indicates whether this record can be viewed - by owner, by instituion, or by all</meta>  
    </property> 
    
    <property name="visibilitySetBy" type="java.lang.String" column="VisibilitySetBy" length="50"  >
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description"></meta>
    </property>        
    <!-- Associations -->

    <!-- bi-directional many-to-one association to CollectingEvent not-null="true"-->
    <many-to-one name="collectingEvent" class="edu.ku.brc.specify.datamodel.CollectingEvent" cascade="save-update" outer-join="true" index="IX_CollectionObjectCollectingEventID">
    	<meta attribute="scope-field">protected</meta>
        <meta attribute="field-description">BiologicalObject (Bird, Fish, etc)</meta>
        <column name="CollectingEventID"  />
    </many-to-one>

    <!-- bi-directional many-to-one association to ContainerItem  not-null="false"-->
    <many-to-one name="containerItem" class="edu.ku.brc.specify.datamodel.ContainerItem" cascade="all" outer-join="auto">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description"></meta>
        <column name="ContainerItemID" />
    </many-to-one>

    <!-- bi-directional one-to-many association to CollectionObjectCitation -->
    <set name="collectionObjectCitations" lazy="true" inverse="true" cascade="all">
    	<meta attribute="scope-field">protected</meta>
        <meta attribute="field-description"></meta>
        <key>
            <column name="CollectionObjectID"/>
        </key>
        <one-to-many class="edu.ku.brc.specify.datamodel.CollectionObjectCitation"/>
    </set>

    <!-- bi-directional one-to-many association to CollectionObjectAttr -->
    <set name="attrs" lazy="true" inverse="true" cascade="all">
    	<meta attribute="scope-field">protected</meta>
        <meta attribute="field-description"></meta>
        <key>
            <column name="CollectionObjectID"/>
        </key>
        <one-to-many class="edu.ku.brc.specify.datamodel.CollectionObjectAttr"/>
    </set>

    <!-- bi-directional one-to-many association to Preparation -->
    <set name="preparations" lazy="true" inverse="true" cascade="all">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description"></meta>
        <key>
            <column name="CollectionObjectID"/>
        </key>
        <one-to-many class="edu.ku.brc.specify.datamodel.Preparation"/>
    </set>

    <!-- bi-directional one-to-many association to Determination -->
    <set name="determinations" lazy="true" inverse="true" cascade="all" order-by="determinedDate desc">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description"></meta>
        <key>
            <column name="CollectionObjectID"/>
        </key>
        <one-to-many class="edu.ku.brc.specify.datamodel.Determination"/>
    </set>

    <!-- bi-directional many-to-one association to CollectionObjDef  not-null="true"-->
    <many-to-one name="collectionObjDef" class="edu.ku.brc.specify.datamodel.CollectionObjDef" cascade="none" outer-join="auto">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description"></meta>
        <column name="CollectionObjDefID" />
    </many-to-one>



    <!-- Old CollectionObjectCatalog Associations -->

    <!-- bi-directional one-to-many association to ProjectCollectionObject -->
    <set name="projectCollectionObjects" lazy="true" inverse="true" cascade="none">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description"></meta>
        <key>
            <column name="CollectionObjectID"/>
        </key>
        <one-to-many class="edu.ku.brc.specify.datamodel.ProjectCollectionObject"/>
    </set>

    <!-- bi-directional one-to-many association to DeaccessionCollectionObject -->
    <!-- <set name="deaccessionCollectionObjects" lazy="true" inverse="true" cascade="none">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description"></meta>
        <key>
            <column name="CollectionObjectID"/>
        </key>
        <one-to-many class="edu.ku.brc.specify.datamodel.DeaccessionCollectionObject"/>
    </set> -->

    <!-- bi-directional one-to-many association to OtherIdentifier -->
    <set name="otherIdentifiers" lazy="true" inverse="true" cascade="all">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description"></meta>
        <key>
            <column name="CollectionObjectID"/>
        </key>
        <one-to-many class="edu.ku.brc.specify.datamodel.OtherIdentifier"/>
    </set>

    <!-- bi-directional many-to-one association to CatalogSeries -->
    <many-to-one name="catalogSeries" class="edu.ku.brc.specify.datamodel.CatalogSeries" cascade="save-update" outer-join="true">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description"></meta>
        <column name="CatalogSeriesID"  not-null="true"/>
    </many-to-one>

    <!-- bi-directional many-to-one association to Accession -->
    <many-to-one name="accession" class="edu.ku.brc.specify.datamodel.Accession" cascade="save-update" outer-join="true">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description"></meta>
        <column name="AccessionID" />
    </many-to-one>

    <!-- bi-directional many-to-one association to Agent  not-null="true"-->
    <many-to-one name="cataloger" class="edu.ku.brc.specify.datamodel.Agent" cascade="save-update"  outer-join="auto">
        <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description"></meta>
        <column name="CatalogerID" />
    </many-to-one>


    <!-- bi-directional one-to-many association to Attachment -->
    <set name="attachments" inverse="true" cascade="all-delete-orphan" order-by="Ordinal ASC, TimestampCreated DESC">
        <key column="CollectionObjectID"/>
        <one-to-many class="edu.ku.brc.specify.datamodel.Attachment"/>
    </set>

    <!-- bi-directional many-to-one association to Container -->
    <!-- NOTE: We are REALLY modeling a zero/one-to-one  -->
    <many-to-one name="container" class="edu.ku.brc.specify.datamodel.Container" unique="true" cascade="all" index="IX_CollectionObjectContainerID">
    <meta attribute="scope-field">protected</meta>
        <meta attribute="field-description">Preparation, Container</meta>
        <column name="ContainerID"  not-null="false"/>
    </many-to-one>

</class>
</hibernate-mapping>
