<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN" "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">

<hibernate-mapping>
<class name="edu.ku.brc.specify.datamodel.Attachment" table="attachments" lazy="true"> 

    <id name="attachmentID" type="java.lang.Long" column="AttachmentID">
      <generator class="native"/>
    </id>
    
    <timestamp name="timestampModified" column="TimestampModified"/>

    <property name="mimeType" type="java.lang.String" length="32" column="MimeType"/>
    
    <property name="origFilename" type="java.lang.String" length="128" column="OrigFilename"/>
    
    <property name="fileCreatedDate" type="calendar_date" column="FileCreatedDate"/>

	<property name="ordinal" type="java.lang.Integer" column="Ordinal"/>
    
    <property name="remarks" type="java.lang.String" length="255" column="Remarks"/>
    
    <property name="attachmentLocation" type="java.lang.String" length="255" column="AttachmentLocation"/>
    
    <property name="timestampCreated" type="java.sql.Timestamp" length="23" column="TimestampCreated" not-null="true" update="false"/>
    
    <property name="lastEditedBy" type="java.lang.String" length="50" column="LastEditedBy"/>
    
    <!-- bi-directional one-to-many association to AttachmentMetadata -->
    <set name="metadata" inverse="true" cascade="save-update">
        <key column="AttachmentID"/>
        <one-to-many class="edu.ku.brc.specify.datamodel.AttachmentMetadata"/>
    </set>	
    
    <!-- Associations with all objects that can have attachments -->
    
    <many-to-one name="agent" class="edu.ku.brc.specify.datamodel.Agent" column="AgentID" cascade="none"/>

    <many-to-one name="collectingEvent" class="edu.ku.brc.specify.datamodel.CollectingEvent" column="CollectingEventID" cascade="none"/>

    <many-to-one name="collectionObject" class="edu.ku.brc.specify.datamodel.CollectionObject" column="CollectionObjectID" cascade="none"/>

    <many-to-one name="loan" class="edu.ku.brc.specify.datamodel.Loan" column="LoanID" cascade="none"/>

    <many-to-one name="locality" class="edu.ku.brc.specify.datamodel.Locality" column="LocalityID" cascade="none"/>

    <many-to-one name="permit" class="edu.ku.brc.specify.datamodel.Permit" column="PermitID" cascade="none"/>

    <many-to-one name="preparation" class="edu.ku.brc.specify.datamodel.Preparation" column="PreparationID" cascade="none"/>

    <many-to-one name="taxon" class="edu.ku.brc.specify.datamodel.Taxon" column="TaxonID" cascade="none"/>
    
</class>
</hibernate-mapping>
